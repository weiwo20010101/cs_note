# 熔断与限流

### 雪崩效应与应对策略

针对上述的常见场景，需要给出不同的策略来应对，主要有如下几个方面，参考如下：

- 硬件故障：分服甚至分机房容灾、异地多活等。
- 流量激增：服务动态扩缩容，流量控制（熔断，限流，超时重试）等。
- 缓存穿透：缓存预加载、异步加载，设置不定的过期时间等。
- 程序的健壮性：修复程序漏洞、避免内存泄漏、及时释放资源 等等。
- 同步等待：资源隔离、MQ解耦、不可用服务调用快速失败（超时机制）等。

## 限流算法

。。。

## Sentinel流量管理

Sentinel被称为高可用流量管理框架，分布式系统流量卫兵。加入对一个接口qps最大限制位10000，在qps超过10000之后的请求我们就要限制其访问，并且给出友好的提示。

### 特点

#### 丰富的应用场景

Sentinel承接了阿里近十年的双11、618等重大活动的流量核心场景，经典如秒杀、竞拍 (即突发流量控制在系统容量可以承受的范围)，消息削峰填谷，集群流量控制，实时熔断下游等应用场景

#### 实时监控

Sentinel同时提供实时、丰富的监控功能，可以在控制台看到接入应用的单台机器秒级流量数据，甚至几百台规模的集群的汇总运行情况 

### 开源生态

Sentinel提供开箱即用的，可与其他框架/库的快速整合的模块,例如与SpringCloud，Dubbo，gRPC的整合，引入相应的maven依赖即可快速接入Sentinel。

### SPI拓展点

Serivce Provider Interface，Sentinel提供简单易用的SPI拓展接口，可以快速定制逻辑。

