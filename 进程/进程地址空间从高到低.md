# 进程地址空间从高到低

![-w707](https://img-blog.csdnimg.cn/2020060700313756.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2FueWVnb25nanVlempk,size_16,color_FFFFFF,t_70)

![在这里插入图片描述](https://img-blog.csdnimg.cn/15841202b5214418bddfeeace9132446.png#pic_center)

## 两部分



Linux将进程地址空间划分为两个部分，位于高地址部分的内核地址空间和位于低地址部分的用户地址空间，其中：

- 内核地址空间：内核总是驻留在内存中，是操作系统的一部分。内核空间专为内核保留，并且对于系统中所有的进程都是相同的。内核空间只允许具备高特权级的内核程序进行访问；对于用户程序，只能通过系统调用等方式陷入内核空间中以访问系统提供的资源；
- 用户地址空间：
- 进程只能访问用户地址空间。用户地址空间保存了用户程序的运行指令和数据。内核在创建进程时，会依据用户可执行文件中提供的信息在用户空间中创建必要的区域，并为用户进程维护环境变量、堆和栈等信息。对于系统中的每个进程，其用户地址空间是彼此分离，完全隔绝的，进程只能访问属于自己的用户地址空间部分的数据

# 进程地址空间

### 用户地址空间

由上图可以看出，无论是32位系统或是64位系统，进程用户地址空间除了地址空间大小不同外，内存布局基本相同，通常都包含以下几个部分：

- 保存命令行参数和环境变量的区域
- 保存局部变量和实现函数调用的栈
- 用于动态内存分配的堆
- 存储常量，全局变量，静态变量等的数据段和只读数据段
- 当前运行程序的二进制代码：代码段